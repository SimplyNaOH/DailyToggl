module Model exposing (..)

import CmdDispatcher

import Time exposing (Time)
import Date exposing (Date)

import Dict exposing (Dict)


-- Model

type alias Entry =
    { project : String
    --, hexColor : String
    , start : Time
    , end : Time
    , dur : Time
    }


type alias Model msg =
    { days : List (Date, List Entry)
    , colors : Dict String String
    , tooltip : String
    , date : Maybe Date
    , token : String
    , workspace : String
    , cmdDispatcher : CmdDispatcher.State msg
    , errors : List String
    }


initialModel =
    Model [] Dict.empty "" Nothing "" "" CmdDispatcher.empty []

exampleData = "{\"days\":[{\"date\":1485299180554,\"entries\":[{\"project\":\"Entertainment\",\"start\":1485311407000,\"end\":1485313513000,\"dur\":2106000},{\"project\":\"Entertainment\",\"start\":1485307129000,\"end\":1485309889000,\"dur\":2760000},{\"project\":\"meals\",\"start\":1485305807000,\"end\":1485307021000,\"dur\":1214000},{\"project\":\"chores\",\"start\":1485300433000,\"end\":1485305713000,\"dur\":5280000},{\"project\":\"procrastination\",\"start\":1485297916000,\"end\":1485299776000,\"dur\":1860000},{\"project\":\"Ponque\",\"start\":1485296161000,\"end\":1485297841000,\"dur\":1680000},{\"project\":\"Study\",\"start\":1485294535000,\"end\":1485295767000,\"dur\":1232000},{\"project\":\"meals\",\"start\":1485291956000,\"end\":1485294386000,\"dur\":2430000},{\"project\":\"gardening\",\"start\":1485290741000,\"end\":1485291881000,\"dur\":1140000},{\"project\":\"Study\",\"start\":1485288476000,\"end\":1485290410000,\"dur\":1934000},{\"project\":\"procrastination\",\"start\":1485288024000,\"end\":1485288384000,\"dur\":360000},{\"project\":\"Study\",\"start\":1485286109000,\"end\":1485287779000,\"dur\":1670000},{\"project\":\"Study\",\"start\":1485283987000,\"end\":1485285372000,\"dur\":1385000},{\"project\":\"procrastination\",\"start\":1485281574000,\"end\":1485282774000,\"dur\":1200000},{\"project\":\"chores\",\"start\":1485279303000,\"end\":1485280746000,\"dur\":1443000},{\"project\":\"procrastination\",\"start\":1485278185000,\"end\":1485279265000,\"dur\":1080000},{\"project\":\"Entertainment\",\"start\":1485276932000,\"end\":1485278132000,\"dur\":1200000},{\"project\":\"meals\",\"start\":1485274527000,\"end\":1485276682000,\"dur\":2155000},{\"project\":\"chores\",\"start\":1485272430000,\"end\":1485274522000,\"dur\":2092000},{\"project\":\"Study\",\"start\":1485269591000,\"end\":1485271958000,\"dur\":2367000},{\"project\":\"Study\",\"start\":1485265246000,\"end\":1485267800000,\"dur\":2554000},{\"project\":\"meals\",\"start\":1485261018000,\"end\":1485263118000,\"dur\":2100000},{\"project\":\"sleep\",\"start\":1485232204000,\"end\":1485259204000,\"dur\":27000000}]},{\"date\":1485385580554,\"entries\":[{\"project\":\"Entertainment\",\"start\":1485396430000,\"end\":1485398746000,\"dur\":2316000},{\"project\":\"Study\",\"start\":1485395116000,\"end\":1485396417000,\"dur\":1301000},{\"project\":\"procrastination\",\"start\":1485393824000,\"end\":1485395144000,\"dur\":1320000},{\"project\":\"chores\",\"start\":1485393081000,\"end\":1485393681000,\"dur\":600000},{\"project\":\"chores\",\"start\":1485392454000,\"end\":1485393054000,\"dur\":600000},{\"project\":\"meals\",\"start\":1485391047000,\"end\":1485392427000,\"dur\":1380000},{\"project\":\"Study\",\"start\":1485389047000,\"end\":1485391009000,\"dur\":1962000},{\"project\":\"Study\",\"start\":1485387959000,\"end\":1485388919000,\"dur\":960000},{\"project\":\"Other\",\"start\":1485385564000,\"end\":1485386164000,\"dur\":600000},{\"project\":\"Ponque\",\"start\":1485379827000,\"end\":1485383427000,\"dur\":3600000},{\"project\":\"meals\",\"start\":1485376249000,\"end\":1485378853000,\"dur\":2604000},{\"project\":\"Study\",\"start\":1485374102000,\"end\":1485375413000,\"dur\":1311000},{\"project\":\"Ponque\",\"start\":1485365409000,\"end\":1485372609000,\"dur\":7200000},{\"project\":\"meals\",\"start\":1485363408000,\"end\":1485364617000,\"dur\":1209000},{\"project\":\"chores\",\"start\":1485361847000,\"end\":1485363347000,\"dur\":1500000},{\"project\":\"chores\",\"start\":1485356936000,\"end\":1485361316000,\"dur\":4380000},{\"project\":\"Study\",\"start\":1485355596000,\"end\":1485355993000,\"dur\":397000},{\"project\":\"Study\",\"start\":1485351183000,\"end\":1485352848000,\"dur\":1665000},{\"project\":\"Study\",\"start\":1485348809000,\"end\":1485349996000,\"dur\":1187000},{\"project\":\"Entertainment\",\"start\":1485347082000,\"end\":1485348200000,\"dur\":1118000},{\"project\":\"meals\",\"start\":1485345362000,\"end\":1485347007000,\"dur\":1645000},{\"project\":\"sleep\",\"start\":1485318632000,\"end\":1485344432000,\"dur\":25800000}]},{\"date\":1485471980554,\"entries\":[{\"project\":\"Entertainment\",\"start\":1485481970000,\"end\":1485484767000,\"dur\":2797000},{\"project\":\"Entertainment\",\"start\":1485480341000,\"end\":1485481761000,\"dur\":1420000},{\"project\":\"meals\",\"start\":1485479151000,\"end\":1485480154000,\"dur\":1003000},{\"project\":\"chores\",\"start\":1485473437000,\"end\":1485479077000,\"dur\":5640000},{\"project\":\"chores\",\"start\":1485472056000,\"end\":1485473076000,\"dur\":1020000},{\"project\":\"Study\",\"start\":1485469611000,\"end\":1485470930000,\"dur\":1319000},{\"project\":\"procrastination\",\"start\":1485468589000,\"end\":1485469339000,\"dur\":750000},{\"project\":\"chores\",\"start\":1485466266000,\"end\":1485467817000,\"dur\":1551000},{\"project\":\"gardening\",\"start\":1485463782000,\"end\":1485466256000,\"dur\":2474000},{\"project\":\"procrastination\",\"start\":1485462179000,\"end\":1485463742000,\"dur\":1563000},{\"project\":\"Entertainment\",\"start\":1485459739000,\"end\":1485460788000,\"dur\":1049000},{\"project\":\"meals\",\"start\":1485458715000,\"end\":1485459674000,\"dur\":959000},{\"project\":\"chores\",\"start\":1485455624000,\"end\":1485458189000,\"dur\":2565000},{\"project\":\"chores\",\"start\":1485453600000,\"end\":1485454620000,\"dur\":1020000},{\"project\":\"Study\",\"start\":1485451736000,\"end\":1485453536000,\"dur\":1800000},{\"project\":\"Study\",\"start\":1485450605000,\"end\":1485451605000,\"dur\":1000000},{\"project\":\"Study\",\"start\":1485447367000,\"end\":1485449242000,\"dur\":1875000},{\"project\":\"chores\",\"start\":1485445190000,\"end\":1485445765000,\"dur\":575000},{\"project\":\"meals\",\"start\":1485444213000,\"end\":1485445170000,\"dur\":957000},{\"project\":\"chores\",\"start\":1485442992000,\"end\":1485444205000,\"dur\":1213000},{\"project\":\"Study\",\"start\":1485438968000,\"end\":1485441308000,\"dur\":2340000},{\"project\":\"Study\",\"start\":1485433807000,\"end\":1485436322000,\"dur\":2515000},{\"project\":\"Entertainment\",\"start\":1485432806000,\"end\":1485433742000,\"dur\":936000},{\"project\":\"meals\",\"start\":1485430536000,\"end\":1485432329000,\"dur\":1793000},{\"project\":\"sleep\",\"start\":1485403259000,\"end\":1485430259000,\"dur\":27000000},{\"project\":\"Entertainment\",\"start\":1485399654000,\"end\":1485402640000,\"dur\":2986000}]},{\"date\":1485558380554,\"entries\":[{\"project\":\"toggle\",\"start\":1485571601000,\"end\":1485572213000,\"dur\":612000},{\"project\":\"toggle\",\"start\":1485565545000,\"end\":1485569858000,\"dur\":4313000},{\"project\":\"meals\",\"start\":1485563530000,\"end\":1485564766000,\"dur\":1236000},{\"project\":\"chores\",\"start\":1485562558000,\"end\":1485563526000,\"dur\":968000},{\"project\":\"Entertainment\",\"start\":1485561738000,\"end\":1485562422000,\"dur\":684000},{\"project\":\"Study\",\"start\":1485559968000,\"end\":1485561379000,\"dur\":1411000},{\"project\":\"Ponque\",\"start\":1485558951000,\"end\":1485559743000,\"dur\":792000},{\"project\":\"Study\",\"start\":1485558217000,\"end\":1485558898000,\"dur\":681000},{\"project\":\"Study\",\"start\":1485557502000,\"end\":1485558139000,\"dur\":637000},{\"project\":\"gardening\",\"start\":1485556343000,\"end\":1485557134000,\"dur\":791000},{\"project\":\"chores\",\"start\":1485554940000,\"end\":1485556265000,\"dur\":1325000},{\"project\":\"gardening\",\"start\":1485553981000,\"end\":1485554890000,\"dur\":909000},{\"project\":\"Study\",\"start\":1485553141000,\"end\":1485553776000,\"dur\":635000},{\"project\":\"Study\",\"start\":1485550646000,\"end\":1485552887000,\"dur\":2241000},{\"project\":\"meals\",\"start\":1485549245000,\"end\":1485550505000,\"dur\":1260000},{\"project\":\"Other\",\"start\":1485548435000,\"end\":1485549275000,\"dur\":840000},{\"project\":\"Study\",\"start\":1485547350000,\"end\":1485548419000,\"dur\":1069000},{\"project\":\"Entertainment\",\"start\":1485544856000,\"end\":1485547256000,\"dur\":2400000},{\"project\":\"chores\",\"start\":1485537184000,\"end\":1485544435000,\"dur\":7251000},{\"project\":\"Ponque\",\"start\":1485536132000,\"end\":1485536912000,\"dur\":780000},{\"project\":\"meals\",\"start\":1485533541000,\"end\":1485535600000,\"dur\":2059000},{\"project\":\"chores\",\"start\":1485532177000,\"end\":1485533530000,\"dur\":1353000},{\"project\":\"Study\",\"start\":1485527745000,\"end\":1485531645000,\"dur\":3900000},{\"project\":\"Study\",\"start\":1485525636000,\"end\":1485527225000,\"dur\":1589000},{\"project\":\"chores\",\"start\":1485524607000,\"end\":1485525594000,\"dur\":987000},{\"project\":\"Entertainment\",\"start\":1485519475000,\"end\":1485521761000,\"dur\":2286000},{\"project\":\"meals\",\"start\":1485517522000,\"end\":1485519472000,\"dur\":1950000},{\"project\":\"sleep\",\"start\":1485489012000,\"end\":1485516612000,\"dur\":27600000},{\"project\":\"procrastination\",\"start\":1485486597000,\"end\":1485487624000,\"dur\":1027000}]},{\"date\":1485644780554,\"entries\":[{\"project\":\"toggle\",\"start\":1485655387000,\"end\":1485660639000,\"dur\":5252000},{\"project\":\"Ponque\",\"start\":1485634969000,\"end\":1485644348000,\"dur\":9379000},{\"project\":\"procrastination\",\"start\":1485630775000,\"end\":1485632792000,\"dur\":2017000},{\"project\":\"toggle\",\"start\":1485628185000,\"end\":1485628763000,\"dur\":578000},{\"project\":\"Study\",\"start\":1485627189000,\"end\":1485628092000,\"dur\":903000},{\"project\":\"Study\",\"start\":1485624994000,\"end\":1485626750000,\"dur\":1756000},{\"project\":\"Study\",\"start\":1485622763000,\"end\":1485622926000,\"dur\":163000},{\"project\":\"chores\",\"start\":1485621545000,\"end\":1485622153000,\"dur\":608000},{\"project\":\"meals\",\"start\":1485618721000,\"end\":1485620521000,\"dur\":1800000},{\"project\":\"Study\",\"start\":1485616987000,\"end\":1485617605000,\"dur\":618000},{\"project\":\"Study\",\"start\":1485614778000,\"end\":1485616437000,\"dur\":1659000},{\"project\":\"chores\",\"start\":1485611459000,\"end\":1485613752000,\"dur\":2293000},{\"project\":\"Study\",\"start\":1485607108000,\"end\":1485608861000,\"dur\":1753000},{\"project\":\"Entertainment\",\"start\":1485605842000,\"end\":1485606219000,\"dur\":377000},{\"project\":\"meals\",\"start\":1485604352000,\"end\":1485605825000,\"dur\":1473000},{\"project\":\"sleep\",\"start\":1485575736000,\"end\":1485603336000,\"dur\":27600000},{\"project\":\"Entertainment\",\"start\":1485573093000,\"end\":1485574537000,\"dur\":1444000}]},{\"date\":1485731180554,\"entries\":[{\"project\":\"toggle\",\"start\":1485700206000,\"end\":1485701286000,\"dur\":1080000},{\"project\":\"sleep\",\"start\":1485663642000,\"end\":1485691242000,\"dur\":27600000}]},{\"date\":1485817580554,\"entries\":[{\"project\":\"procrastination\",\"start\":1485831038000,\"end\":1485833339000,\"dur\":2301000},{\"project\":\"toggle\",\"start\":1485829088000,\"end\":1485830997000,\"dur\":1909000},{\"project\":\"Entertainment\",\"start\":1485825503000,\"end\":1485829103000,\"dur\":3600000},{\"project\":\"meals\",\"start\":1485824356000,\"end\":1485825500000,\"dur\":1144000},{\"project\":\"Ponque\",\"start\":1485822304000,\"end\":1485822904000,\"dur\":600000},{\"project\":\"chores\",\"start\":1485820913000,\"end\":1485821813000,\"dur\":900000},{\"project\":\"chores\",\"start\":1485819611000,\"end\":1485820811000,\"dur\":1200000},{\"project\":\"chores\",\"start\":1485815372000,\"end\":1485818870000,\"dur\":3498000},{\"project\":\"procrastination\",\"start\":1485813624000,\"end\":1485814764000,\"dur\":1140000},{\"project\":\"Study\",\"start\":1485812634000,\"end\":1485813423000,\"dur\":789000},{\"project\":\"Study\",\"start\":1485809588000,\"end\":1485810677000,\"dur\":1089000},{\"project\":\"Entertainment\",\"start\":1485808802000,\"end\":1485809411000,\"dur\":609000},{\"project\":\"meals\",\"start\":1485807919000,\"end\":1485808850000,\"dur\":930000},{\"project\":\"Study\",\"start\":1485806335000,\"end\":1485807730000,\"dur\":1395000},{\"project\":\"Study\",\"start\":1485803959000,\"end\":1485804904000,\"dur\":945000},{\"project\":\"Study\",\"start\":1485801639000,\"end\":1485802806000,\"dur\":1167000},{\"project\":\"Entertainment\",\"start\":1485801266000,\"end\":1485801579000,\"dur\":313000},{\"project\":\"Ponque\",\"start\":1485798133000,\"end\":1485798733000,\"dur\":600000},{\"project\":\"chores\",\"start\":1485796950000,\"end\":1485797550000,\"dur\":600000},{\"project\":\"meals\",\"start\":1485795763000,\"end\":1485796895000,\"dur\":1132000},{\"project\":\"chores\",\"start\":1485794872000,\"end\":1485795712000,\"dur\":840000},{\"project\":\"chores\",\"start\":1485783360000,\"end\":1485794387000,\"dur\":11027000},{\"project\":\"meals\",\"start\":1485779440000,\"end\":1485781240000,\"dur\":1800000},{\"project\":\"sleep\",\"start\":1485745238000,\"end\":1485778538000,\"dur\":33300000}]}],\"colors\":[{\"fst\":\"Entertainment\",\"snd\":\"#a01aa5\"},{\"fst\":\"Exercise\",\"snd\":\"#c56bff\"},{\"fst\":\"Other\",\"snd\":\"#aaa\"},{\"fst\":\"Ponque\",\"snd\":\"#3750b5\"},{\"fst\":\"Project Sonne\",\"snd\":\"#c56bff\"},{\"fst\":\"Study\",\"snd\":\"#000000\"},{\"fst\":\"blog\",\"snd\":\"#06aaf5\"},{\"fst\":\"chores\",\"snd\":\"#ea468d\"},{\"fst\":\"gardening\",\"snd\":\"#4bc800\"},{\"fst\":\"meals\",\"snd\":\"#c7741c\"},{\"fst\":\"procrastination\",\"snd\":\"#e20505\"},{\"fst\":\"sleep\",\"snd\":\"#fb8b14\"},{\"fst\":\"social\",\"snd\":\"#fb8b14\"},{\"fst\":\"toggle\",\"snd\":\"#890000\"}]}"
